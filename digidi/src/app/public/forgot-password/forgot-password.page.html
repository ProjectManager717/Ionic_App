
<ion-content fullscreen [scrollEvents]="true" (ionScroll)="logScrolling($event)" [class.scrolled]="fixHeader"> 
  <div class="footer-bg reverse long"></div>
  <div class="content-bg-reverse">
    <div class="app-logo">
      <img src="/assets/icon/app-logo.svg">
    </div>
    <ion-card *ngIf="!toReset">
      <ion-card-header>
        <h3 class="ion-text-center">Forgot Password</h3>
      </ion-card-header>
      <ion-card-content>
        <form [formGroup]="forgotForm" class="eth-form">
          <ion-item [ngClass]="{'has-error': forgot.email.invalid && forgot.email.dirty}">
            <ion-input type="text" formControlName="email"  placeholder="Email" autocomplete="false"></ion-input>
          </ion-item>
          
          <ion-button expand="block" [disabled]="forgotting" (click)="forgotSubmit()">Submit</ion-button>
          <p class="signUp"><span class="logo-color" routerLink="/public/login" routerDirection="back">back to login</span></p>
        </form>
      </ion-card-content>
    </ion-card>
    <ion-card *ngIf="toReset">
      <ion-card-header>
        <h3 class="ion-text-center">Reset Password</h3>
      </ion-card-header>
      <ion-card-content>
        <form [formGroup]="resetForm" class="eth-form">
          <ion-item [ngClass]="{'has-error': reset.password.invalid && reset.password.dirty}">
            <ion-input [type]="'text'" formControlName="otp" placeholder="Enter reset code" ></ion-input>
          </ion-item>
          <ion-item [ngClass]="{'has-error': reset.password.invalid && reset.password.dirty}">
            <ion-input [type]="showPassword ? 'text' : 'password'" formControlName="password" placeholder="Password" ></ion-input>
            <ion-icon name="{{ showPassword ? 'eye-off' : 'eye' }}" slot="end" (click)="showPassword = !showPassword"></ion-icon>
          </ion-item>
          <ion-item [ngClass]="{'has-error': reset.confirmPassword.invalid && reset.confirmPassword.dirty}">
            <ion-input [type]="showPassword ? 'text' : 'password'" formControlName="confirmPassword" placeholder="Confirm Password" ></ion-input>
            <ion-icon name="{{ showPassword ? 'eye-off' : 'eye' }}" slot="end" (click)="showPassword = !showPassword"></ion-icon>
          </ion-item>
          
          <ion-button expand="block" [disabled]="resetting" (click)="resetSubmit()">Submit</ion-button>
          <p class="signUp"><span class="logo-color" routerLink="/public/login" routerDirection="back">back to login</span></p>
        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>