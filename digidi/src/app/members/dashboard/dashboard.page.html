<ion-header [class.not-scrolled]="!fixHeader">
  <ion-toolbar>
    <ion-title>Profile</ion-title>
    <ion-buttons slot="end">
      <ion-button icon-only (click)="gotoPost()">
        <ion-icon name="add-circle"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen [scrollEvents]="true" (ionScroll)="logScrolling($event)" [class.scrolled]="fixHeader"> 
  <div class="profile-dashboard">
    
    <ion-card class="profile-cards">
      <ion-card-header>
        <ion-card-title>Your Profiles</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item *ngFor="let profile of prifleItems">
            <ion-avatar slot="start">
              <img src="{{profile.icon}}" />
            </ion-avatar>
            <ion-label>
              <h3>{{profile.name}}</h3>
              <p>
                <b>{{profile.subscribers}} SUBS</b> 
                &nbsp;<b>DKK {{profile.dkk}}/m</b>
                <br><b>TOTAL DKK {{profile.total_dkk}}</b>
              </p>
            </ion-label>
            <ion-icon slot="end" name="bar-chart"></ion-icon>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <ion-card class="account-cards">
      <ion-card-header>
        <ion-card-title>Account</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <form class="form" [formGroup]="accountForm">
          <ion-list lines="none">
            <ion-item [ngClass]="{'has-error': accFrm.firstName.invalid && accFrm.firstName.dirty}">
              <ion-label>First Name*</ion-label>
              <ion-input formControlName="firstName" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.lastName.invalid && accFrm.lastName.dirty}">
              <ion-label>Last Name*</ion-label>
              <ion-input formControlName="lastName" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.email.invalid && accFrm.email.dirty}">
              <ion-label>Email*</ion-label>
              <ion-input formControlName="email" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.password.invalid && accFrm.password.dirty}">
              <ion-label>Password</ion-label>
              <ion-input formControlName="password" type="text" ></ion-input>
            </ion-item>
            
            <ion-item [ngClass]="{'has-error': accFrm.addressLine1.invalid && accFrm.addressLine1.dirty}">
              <ion-label>Address1</ion-label>
              <ion-input formControlName="addressLine1" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.addressLine2.invalid && accFrm.addressLine2.dirty}">
              <ion-label>Address2</ion-label>
              <ion-input formControlName="addressLine2" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.author.invalid && accFrm.author.dirty}">
              <ion-label>Author</ion-label>
              <ion-input formControlName="author" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.phone.invalid && accFrm.phone.dirty}">
              <ion-label>Phone Number</ion-label>
              <ion-input formControlName="phone" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.country.invalid && accFrm.country.dirty}">
              <ion-label>Country</ion-label>
              <ion-select formControlName="country">
                <ion-select-option *ngFor="let cntry of [1,2,3,4]" value="{{cntry}}">{{cntry}}</ion-select-option>
              </ion-select>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.zipcode.invalid && accFrm.zipcode.dirty}">
              <ion-label>Zipcode</ion-label>
              <ion-input formControlName="zipcode" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.city.invalid && accFrm.city.dirty}">
              <ion-label>City</ion-label>
              <ion-input formControlName="city" type="text" ></ion-input>
            </ion-item>
          </ion-list>
          <ion-item lines="none" class="no-border">
            <ion-label>I represnt a company</ion-label>
            <ion-checkbox slot="start" formControlName="representCompany" (change)="updateCompanyFields()"></ion-checkbox>
          </ion-item>
          <ion-list lines="none" class="company-list" *ngIf="accFrm.representCompany.value">
            <ion-item [ngClass]="{'has-error': accFrm.companyName.invalid && accFrm.companyName.dirty}">
              <ion-label>Company Name*</ion-label>
              <ion-input formControlName="companyName" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.companyRegNo.invalid && accFrm.companyRegNo.dirty}">
              <ion-label>Company Reg No*</ion-label>
              <ion-input formControlName="companyRegNo" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.companyPhone.invalid && accFrm.companyPhone.dirty}">
              <ion-label>Company Phone Number*</ion-label>
              <ion-input formControlName="companyPhone" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.companyZipcode.invalid && accFrm.companyZipcode.dirty}">
              <ion-label>Company Zip Code*</ion-label>
              <ion-input formControlName="companyZipcode" type="text" ></ion-input>
            </ion-item>

            <ion-item [ngClass]="{'has-error': accFrm.companyCountry.invalid && accFrm.companyCountry.dirty}">
              <ion-label>Country</ion-label>
              <ion-select formControlName="companyCountry">
                <ion-select-option *ngFor="let cntry of [1,2,3,4]" value="{{cntry}}">{{cntry}}</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-list>
        </form>
        <div class="ion-text-center">
          <ion-button>Submit</ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>